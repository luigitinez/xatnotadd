<!DOCTYPE html>
<html>
<head>
	<title>XnA</title>
	<link rel="stylesheet" type="text/css" href="css/bootstrap.css">
	<meta charset="utf-8">
	<meta name="google-site-verification" content="pocTIPouEACXEeQAOqsrKQ4EW_7rg951YejnOzw2zm0" />
	<link rel="shortcut icon" href="./media/fav.png" />
	<script src="js/bootstrap.js"></script>
	<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet" />
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>
	<script src="./sweetalert/sweetalert2.min.js"></script>
	<link rel="stylesheet" type="text/css" href="./sweetalert/sweetalert2.css">
</head>
<body>
	<div class="container">
		<div class="col-md-4" style="margin: 0">
			<img src="./media/XnA-big.png" class="img-responsive" alt="Cinque Terre">
		</div>
		<div class="col-md-8">
			<h1> No need to add, just chat</h1>
		</div>
		<div class="clearfix"></div>
		
		<div class="row">
			<div class="col-lg-6 form-group">
				<label>Country of the phone to chat:</label>
				<select class="js-example-basic-single form-control" name="pais" id="pais" data-placeholder="Select a state">
				  <option value="34">Spain</option>
				  <option value="93">Afganistan</option>
				  <option value="378">Andorra</option>
				  <option value="378">Andorra</option>
				  <option value="90">Turkey</option>
				</select>
			</div>
			<div class="col-lg-6 form-group">
				<label>Phone number to chat with:</label>
				<input type="text" id="num" name="num" class="form-control">
			</div>
		</div>
		<div class="row">
			<div class="col-sm-6">
				<button class="btn btn-success" onclick="chck(0)">Genenarte Conversation</button>
				<button class="btn btn-info" onclick="chck(1)">Genenarte Link</button>
			</div>		
		</div>
	</div>
	<script type="text/javascript">
		$(document).ready(function() {
    $('.js-example-basic-single').select2();
});
//esta verifica que se haya introducido un número y si es así llama a otra función en función de su parámetro
		function chck(what){

			var pais = $("#pais").val();
			var num = $("#num").val();
			
			if (!isNumeric(num)) {
		
				swal("Error", "Phone field isn't a phone number", "error");
				return;
				
			}

			var url = "https://api.whatsapp.com/send?phone="+pais+num;
			if (what) {
				link(url);
			}else{
				send(url);
			}
			
		}
		//redirecciona a la api de whastapp
		function send(url){
			location.replace(url);
		}
		function link(url){
			swal("Here's your link",url,"info");
		}
			
		function isNumeric(n){
			return!isNaN(parseFloat(n))&& isFinite(n);
		}
	</script>
</body>
</html>